<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <record model="ir.module.category" id="module_category_volan_yasamal">
            <field name="name">Volan Yasamal</field>
            <field name="description">Volan Yasamal modulu üçün istifadəçi rolları</field>
            <field name="sequence">25</field>
        </record>
        
        <record id="group_volan_satici" model="res.groups">
            <field name="name">Satıcı</field>
            <field name="category_id" ref="module_category_volan_yasamal"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_volan_mesqci" model="res.groups">
            <field name="name">Məşqçi</field>
            <field name="category_id" ref="module_category_volan_yasamal"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_volan_nezaretci" model="res.groups">
            <field name="name">Nəzarətçi</field>
            <field name="category_id" ref="module_category_volan_yasamal"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_volan_admin" model="res.groups">
            <field name="name">Admin</field>
            <field name="category_id" ref="module_category_volan_yasamal"/>
            <field name="implied_ids" eval="[(4, ref('group_volan_satici')), (4, ref('group_volan_mesqci')), (4, ref('group_volan_nezaretci'))]"/>
            <field name="users" eval="[(4, ref('base.user_admin'))]"/>
        </record>

        <record id="group_go_basketbol" model="res.groups">
            <field name="name">Go Basketbol</field>
            <field name="category_id" ref="module_category_volan_yasamal"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="rule_partner_yasamal_only" model="ir.rule">
            <field name="name">Partners: Yalnız Yasamal Filialı</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('branch', '=', 'yasamal')]</field>
            <field name="groups" eval="[(4, ref('group_volan_satici')), (4, ref('group_volan_nezaretci'))]"/>
        </record>
        
        <record id="rule_partner_admin_all" model="ir.rule">
            <field name="name">Partners: Admin bütün filialları görür</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('group_volan_admin'))]"/>
        </record>
        
        <record id="rule_partner_trainer_yasamal" model="ir.rule">
            <field name="name">Partners: Məşqçi yalnız Yasamal müştərilərini görür</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('branch', '=', 'yasamal')]</field>
            <field name="groups" eval="[(4, ref('group_volan_mesqci'))]"/>
        </record>

        <record id="rule_partner_go_basketbol" model="ir.rule">
            <field name="name">Partners: Go Basketbol yalnız basketbol müştərilərini görür</field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="domain_force">[('branch', '=', 'yasamal'), ('sport_type', 'in', ['basketball', 'both'])]</field>
            <field name="groups" eval="[(4, ref('group_go_basketbol'))]"/>
        </record>

    </data>
</odoo>